phrases = {
	[1] = {
		{"vo/npc/male01/question", ".wav", 3, 31},
		{"vo/npc/male01/answer", ".wav", 1, 40},
		//{"vo/npc/male01/sorry", ".wav", 1, 3},
		{"vo/npc/male01/squad_affirm", ".wav", 1, 9},
		{"vo/episode_1/npc/male01/cit_remarks", ".wav", 1, 21},
		{"vo/trainyard/male01/cit_bench", ".wav", 1, 4},
		{"vo/trainyard/male01/cit_hit", ".wav", 1, 5},
		{"vo/trainyard/male01/cit_pedestrian", ".wav", 1, 5},
		{"vo/outland_11a/silo/reb1_idles", ".wav", 1, 7},
		//{"vo/npc/male01/startle", ".wav", 1, 2},
		//{"vo/npc/male01/vanswer", ".wav", 1, 14},
		//{"vo/npc/male01/wetrustedyou", ".wav", 1, 2},
		//{"vo/npc/male01/whoops", ".wav", 1, 1},
		//{"vo/npc/male01/yeah", ".wav", 2, 2},
		//{"vo/npc/male01/gordead_ans", ".wav", 1, 20},
		//{"vo/npc/male01/heretohelp", ".wav", 1, 2},
		//{"vo/npc/male01/holddownspot", ".wav", 1, 2},
		//{"vo/npc/male01/imstickinghere01", ".wav", 1, 1},
		//{"vo/npc/male01/imstickinghere01", ".wav", 1, 1},
	},
	[2] = {
		{"vo/npc/female01/question", ".wav", 3, 30},
		{"vo/npc/female01/answer", ".wav", 1, 40},
		//{"vo/npc/female01/sorry", ".wav", 1, 3},
		{"vo/npc/female01/squad_affirm", ".wav", 1, 9},
		{"vo/episode_1/npc/female01/cit_remarks", ".wav", 1, 21},
		{"vo/trainyard/female01/cit_bench", ".wav", 1, 4},
		{"vo/trainyard/female01/cit_hit", ".wav", 1, 5},
		{"vo/trainyard/female01/cit_pedestrian", ".wav", 1, 5},
		//{"vo/npc/female01/startle", ".wav", 1, 2},
		//{"vo/npc/female01/vanswer", ".wav", 1, 14},
		//{"vo/npc/female01/wetrustedyou", ".wav", 1, 2},
		//{"vo/npc/female01/whoops", ".wav", 1, 1},
		//{"vo/npc/female01/yeah", ".wav", 2, 2},
		//{"vo/npc/female01/gordead_ans", ".wav", 1, 20},
		//{"vo/npc/female01/heretohelp", ".wav", 1, 2},
		//{"vo/npc/female01/holddownspot", ".wav", 1, 2}
	}
}

contextPhrases = {
	[1] = {
		["Scared"] = {
			"vo/npc/male01/gordead_ques06.wav",
			"vo/npc/male01/gordead_ques10.wav",
			"vo/npc/male01/ohno.wav",
			"vo/npc/male01/okimready01.wav",
			"vo/npc/male01/uhoh.wav",
			"vo/npc/male01/goodgod.wav",
			"vo/npc/male01/gordead_ans05.wav",
			"vo/npc/male01/gordead_ans15.wav",
			"vo/npc/male01/startle01.wav",
			"vo/npc/male01/startle02.wav",
			"vo/npc/male01/no01.wav",
			"vo/npc/male01/gordead_ans04.wav",
			"vo/npc/male01/gordead_ques13.wav",
			"vo/npc/male01/gordead_ques10.wav",
			"vo/episode_1/npc/male01/cit_alert_head06.wav",
			"vo/episode_1/npc/male01/cit_alert_head07.wav",
			"vo/episode_1/npc/male01/cit_alert_zombie03.wav",
			"vo/episode_1/npc/male01/cit_alert_zombie09.wav",
			"vo/episode_1/npc/male01/cit_buddykilled11.wav",
			"vo/episode_1/npc/male01/cit_evac_casualty02.wav",
			"vo/episode_1/npc/male01/cit_evac_casualty05.wav",
			"vo/episode_1/npc/male01/cit_evac_defendus06.wav",
			"vo/trainyard/male01/cit_window_use03.wav",
			"vo/outland_12/reb1_lastwaveannounced05.wav",
			"vo/outland_02/griggs_cantholdout.wav",
		},
		["Yell"] = {
			"vo/episode_1/npc/male01/cit_pain06.wav",
			"vo/episode_1/npc/male01/cit_pain07.wav",
			"vo/episode_1/npc/male01/cit_pain04.wav",
			"vo/episode_1/npc/male01/cit_shock02.wav",
			"vo/episode_1/npc/male01/cit_shock03.wav",
			"vo/episode_1/npc/male01/cit_shock04.wav",
			"vo/outland_02/griggs_fightlion_01.wav",
			"vo/npc/male01/no02.wav",
		},
		["Cheer"] = {
			"vo/coast/odessa/male01/nlo_cheer01.wav",
			"vo/coast/odessa/male01/nlo_cheer02.wav",
			"vo/coast/odessa/male01/nlo_cheer03.wav",
			"vo/coast/odessa/male01/nlo_cheer04.wav",
			"vo/outland_11/dogfight/reb1_str_dogcheers01.wav",
			"vo/outland_11/dogfight/reb1_str_dogcheers02.wav",
			"vo/outland_11/dogfight/reb1_str_dogcheers04.wav",
			"vo/outland_12/reb1_striderdown05.wav",
			"vo/outland_12/reb1_striderdown08.wav",
		},
		["Satisfied"] = {
			"vo/npc/male01/evenodds.wav",
			"vo/npc/male01/okimready01.wav",
			"vo/npc/male01/okimready02.wav",
			"vo/npc/male01/yeah02.wav",
			"vo/npc/male01/littlecorner01.wav",
			"vo/npc/male01/nice.wav",
			"vo/npc/male01/oneforme.wav",
			"vo/npc/male01/question07.wav",
			"vo/npc/male01/question10.wav",
			"vo/npc/male01/question13.wav",
			"vo/npc/male01/question16.wav",
			"vo/npc/male01/question23.wav",
			"vo/npc/male01/fantastic01.wav",
			"vo/episode_1/npc/male01/cit_evac_ok01.wav",
			"vo/episode_1/npc/male01/cit_evac_ok04.wav",
			"vo/episode_1/npc/male01/cit_greet_alyx02.wav",
			"vo/episode_1/npc/male01/cit_reachtrain01.wav",
			"vo/episode_1/npc/male01/cit_thesearesomuchfun.wav",
			"vo/episode_1/npc/male01/cit_youbet.wav",
			"vo/coast/barn/male01/youmadeit.wav",
			"vo/outland_12/reb1_prepare_battle_02.wav",
			"vo/outland_12/reb1_striderdown06.wav",
			"vo/outland_12/reb1_striderdown07.wav",
			"vo/outland_02/griggs_betweenwave_09.wav"
		},
		["Yell for help"] = {
			"vo/npc/male01/runforyourlife01.wav",
			"vo/npc/male01/runforyourlife02.wav",
			"vo/npc/male01/runforyourlife03.wav",
			"vo/npc/male01/help01.wav",
			"vo/npc/male01/strider_run.wav",
			"vo/npc/male01/watchout.wav",
			"vo/episode_1/npc/male01/cit_alert_rollers04.wav",
			"vo/episode_1/npc/male01/cit_evac_casualty08.wav",
			"vo/episode_1/npc/male01/cit_evac_casualty11.wav",
			"vo/episode_1/npc/male01/cit_runforit.wav",
			"vo/coast/bugbait/sandy_help.wav", --
			"vo/streetwar/sniper/male01/c17_09_help01.wav", --
			"vo/streetwar/sniper/male01/c17_09_help02.wav", --
		},
		["Someone died"] = {
			"vo/episode_1/npc/male01/cit_buddykilled01.wav",
			"vo/episode_1/npc/male01/cit_buddykilled07.wav",
			"vo/episode_1/npc/male01/cit_buddykilled04.wav",
			"vo/episode_1/npc/male01/cit_buddykilled11.wav",
			"vo/episode_1/npc/male01/cit_buddykilled12.wav",
			"vo/episode_1/npc/male01/cit_buddykilled02.wav",
			"vo/npc/male01/gordead_ques01.wav",
			"vo/npc/male01/gordead_ques02.wav",
			"vo/npc/male01/gordead_ques07.wav",
			"vo/episode_1/npc/male01/cit_evac_casualty06.wav",
			"vo/episode_1/npc/male01/cit_evac_casualty09.wav",
			"vo/coast/bugbait/sandy_holdstill.wav", --
			"vo/coast/bugbait/sandy_poorlaszlo.wav", --
			"vo/coast/cardock/le_whohurt.wav", --
			"vo/coast/odessa/male01/nlo_cubdeath01.wav",
			"vo/coast/odessa/male01/nlo_cubdeath02.wav",
			"vo/outland_12/reb1_buildingexplo03.wav", --
			"vo/outland_12/reb1_buildingexplo06.wav", --
			"vo/outland_12/reb1_lastwaveannounced03.wav", --
			"vo/outland_12/reb1_prepare_battle_08.wav", --
		},
		["Die!"] = {
			"vo/episode_1/npc/male01/cit_kill01.wav",
			"vo/episode_1/npc/male01/cit_kill02.wav",
			"vo/episode_1/npc/male01/cit_kill04.wav",
			"vo/episode_1/npc/male01/cit_kill14.wav",
			"vo/episode_1/npc/male01/cit_kill19.wav",
			"vo/episode_1/npc/male01/cit_kill20.wav",
			"vo/episode_1/npc/male01/cit_kill17.wav",
			"vo/episode_1/npc/male01/cit_kill07.wav",
			"vo/episode_1/npc/male01/cit_kill09.wav",
			"vo/episode_1/npc/male01/cit_kill10.wav",
			"vo/episode_1/npc/male01/cit_kill16.wav",
			"vo/npc/male01/gotone02.wav",
			"vo/npc/male01/likethat.wav",
			"vo/npc/male01/gotone01.wav",
			"vo/npc/male01/gotone02.wav",
			"vo/outland_08/chopper/rebc_chop_hit02.wav", --
			"vo/outland_12/reb1_striderdown11.wav", --
			"vo/outland_12/reb1_striderdown12.wav", --
		},
	},
	[2] = {
		["Scared"] = {
			"vo/npc/female01/gordead_ques06.wav",
			"vo/npc/female01/gordead_ques10.wav",
			"vo/npc/female01/ohno.wav",
			"vo/npc/female01/okimready01.wav",
			"vo/npc/female01/uhoh.wav",
			"vo/npc/female01/goodgod.wav",
			"vo/npc/female01/gordead_ans05.wav",
			"vo/npc/female01/gordead_ans15.wav",
			"vo/npc/female01/startle01.wav",
			"vo/npc/female01/startle02.wav",
			"vo/npc/female01/no01.wav",
			"vo/npc/female01/no02.wav",
			"vo/npc/female01/gordead_ans04.wav",
			"vo/npc/female01/gordead_ques13.wav",
			"vo/npc/female01/gordead_ques10.wav",
			"vo/episode_1/npc/female01/cit_alert_head06.wav",
			"vo/episode_1/npc/female01/cit_alert_head07.wav",
			"vo/episode_1/npc/female01/cit_alert_zombie03.wav",
			"vo/episode_1/npc/female01/cit_alert_zombie09.wav",
			"vo/episode_1/npc/female01/cit_buddykilled11.wav",
			"vo/episode_1/npc/female01/cit_evac_casualty02.wav",
			"vo/episode_1/npc/female01/cit_evac_casualty05.wav",
			"vo/episode_1/npc/female01/cit_evac_defendus06.wav",
			"vo/episode_1/npc/female01/cit_kill06.wav",
			"vo/trainyard/female01/cit_window_use03.wav",
		},
		["Yell"] = {
			"vo/episode_1/npc/female01/cit_shock03.wav",
			"vo/episode_1/npc/female01/cit_shock04.wav",
		},
		["Cheer"] = {
			"vo/coast/odessa/female01/nlo_cheer01.wav",
			"vo/coast/odessa/female01/nlo_cheer02.wav",
			"vo/coast/odessa/female01/nlo_cheer03.wav",
		},
		["Satisfied"] = {
			"vo/npc/female01/evenodds.wav",
			"vo/npc/female01/okimready01.wav",
			"vo/npc/female01/okimready02.wav",
			"vo/npc/female01/yeah02.wav",
			"vo/npc/female01/littlecorner01.wav",
			"vo/npc/female01/nice.wav",
			"vo/npc/female01/oneforme.wav",
			"vo/npc/female01/question07.wav",
			"vo/npc/female01/question10.wav",
			"vo/npc/female01/question13.wav",
			"vo/npc/female01/question16.wav",
			"vo/npc/female01/question23.wav",
			"vo/npc/female01/fantastic01.wav",
			"vo/episode_1/npc/female01/cit_evac_ok01.wav",
			"vo/episode_1/npc/female01/cit_evac_ok04.wav",
			"vo/episode_1/npc/female01/cit_greet_alyx02.wav",
			"vo/episode_1/npc/female01/cit_reachtrain01.wav",
			"vo/episode_1/npc/female01/cit_thesearesomuchfun.wav",
			"vo/episode_1/npc/female01/cit_youbet.wav",
			"vo/coast/barn/female01/youmadeit.wav"
		},
		["Yell for help"] = {
			"vo/npc/female01/runforyourlife01.wav",
			"vo/npc/female01/runforyourlife02.wav",
			"vo/npc/female01/runforyourlife03.wav",
			"vo/npc/female01/help01.wav",
			"vo/npc/female01/no02.wav",
			"vo/npc/female01/strider_run.wav",
			"vo/npc/female01/watchout.wav",
			"vo/episode_1/npc/female01/cit_alert_rollers04.wav",
			"vo/episode_1/npc/female01/cit_evac_casualty08.wav",
			"vo/episode_1/npc/female01/cit_evac_casualty11.wav",
			"vo/episode_1/npc/female01/cit_runforit.wav",
		},
		["Someone died"] = {
			"vo/episode_1/npc/female01/cit_buddykilled01.wav",
			"vo/episode_1/npc/female01/cit_buddykilled07.wav",
			"vo/episode_1/npc/female01/cit_buddykilled04.wav",
			"vo/episode_1/npc/female01/cit_buddykilled11.wav",
			"vo/episode_1/npc/female01/cit_buddykilled12.wav",
			"vo/episode_1/npc/female01/cit_buddykilled02.wav",
			"vo/npc/female01/gordead_ques01.wav",
			"vo/npc/female01/gordead_ques02.wav",
			"vo/npc/female01/gordead_ques07.wav",
			"vo/episode_1/npc/female01/cit_evac_casualty06.wav",
			"vo/episode_1/npc/female01/cit_evac_casualty09.wav",
			"vo/coast/odessa/female01/nlo_cubdeath01.wav",
			"vo/coast/odessa/female01/nlo_cubdeath02.wav",
		},
		["Die!"] = {
			"vo/episode_1/npc/female01/cit_kill01.wav",
			"vo/episode_1/npc/female01/cit_kill02.wav",
			"vo/episode_1/npc/female01/cit_kill04.wav",
			"vo/episode_1/npc/female01/cit_kill14.wav",
			"vo/episode_1/npc/female01/cit_kill19.wav",
			"vo/episode_1/npc/female01/cit_kill20.wav",
			"vo/episode_1/npc/female01/cit_kill17.wav",
			"vo/episode_1/npc/female01/cit_kill07.wav",
			"vo/episode_1/npc/female01/cit_kill09.wav",
			"vo/episode_1/npc/female01/cit_kill10.wav",
			"vo/episode_1/npc/female01/cit_kill16.wav",
			"vo/npc/female01/gotone02.wav",
			"vo/npc/female01/likethat.wav",
			"vo/npc/female01/gotone01.wav",
			"vo/npc/female01/gotone02.wav",
		},
	}
}

if CLIENT then
	local function randomPhrase()
		RunConsoleCommand("hg_phrase")
	end

	local mClamp, mRandom = math.Clamp, math.random

	concommand.Add("hg_phrase", function(ply, cmd, args)
		local gender = ThatPlyIsFemale(ply) and 2 or 1
		local i = (#args > 0 and mClamp(tonumber(args[1]),1,#phrases[gender])) or mRandom(#phrases[gender])
		if (#args < 2 and not #args == 0) then return end
 		local num = (#args > 1 and mClamp(tonumber(args[2]),phrases[gender][tonumber(i)][3],phrases[gender][tonumber(i)][4])) or mRandom(phrases[gender][tonumber(i)][3], phrases[gender][tonumber(i)][4])
		net.Start("hg_phrase")
		net.WriteInt(i, 8)
		net.WriteInt(num, 8)
		net.SendToServer()
	end)

	hook.Add("radialOptions", "4", function()
		local organism = lply.organism or {}

		if lply:Alive() and not organism.otrub and lply.PlayerClassName ~= "Gordon" then
			--hg.radialOptions[#hg.radialOptions + 1] = {randomPhrase, (LocalPlayer().PlayerClassName == "Slugcat" and "WÃ¡aaaÇa\nWÄaaÃ aÃ¢") or (LocalPlayer().PlayerClassName == "Gordon" and "...") or "Say something"}
			hg.radialOptions[#hg.radialOptions + 1] = {
				[1] = function(mouseClick)
					if mouseClick == 1 or organism.pain > 60 then
						randomPhrase()
					else
						--print(lply:GetPlayerClass())
						if lply.PlayerClassName and lply:GetPlayerClass() and !lply:GetPlayerClass().CanUseDefaultPhrase then return end
						local tbl = {}
						for context, phrases in pairs(contextPhrases[1]) do
							if lply.organism.pain > 30 and (context == "Satisfied" or context == "Cheer") then continue end
							
							tbl[#tbl + 1] = {
								[1] = function()
									RunConsoleCommand("hg_phrase_context", context)
								end,
								[2] = context
							}
						end
						hg.CreateRadialMenu(tbl)
					end
				end,
				[2] = organism.pain > 60 and (organism.pain <= 100 and "Yell in pain" or "Moan in pain") or (lply.PlayerClassName == "furry" and "Meow") or "Do Phrase\nRMB - Menu"
			}
		end
	end)
end

-- no more svside ğŸ¥º